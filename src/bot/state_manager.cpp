[Paste content from charizard_cpp_part5 artifact - state_manager.cpp section]
